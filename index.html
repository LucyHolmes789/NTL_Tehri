<!DOCTYPE html>
<html>
<head>
  <title>Leaflet Map</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Include Leaflet CSS and JavaScript -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/leaflet/1.7.1/leaflet.css" />
  <script src="https://cdn.jsdelivr.net/leaflet/1.7.1/leaflet.js"></script>
</head>
<body>
  <div id="map" style="height: 500px;"></div>

  <script>
    // Create the map
    var map = L.map('map').setView([30.35355, 78.33545], 10);

    // Add the tile layer
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
      attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors',
      maxZoom: 18,
    }).addTo(map);

    // Add the raster image layer
    var difference_Tehri = L.imageOverlay('{{path_to_image}}', [[{{lat_min}}, {{lng_min}}], [{{lat_max}}, {{lng_max}}]], { opacity: 0.7 });
    difference_Tehri.addTo(map);

    // Add the polygons layer
    var areas15km_india_NJ = L.geoJSON({{geojson_data}}, {
      color: "#253494",
      fillOpacity: 0,
      weight: 3
    }).addTo(map);

    // Add the control for activity legend
    var activityLegendControl = L.control({ position: 'bottomright' });
    activityLegendControl.onAdd = function (map) {
      var div = L.DomUtil.create('div', 'legend');

      div.innerHTML = `
        <div style="background-color: rgba(255, 255, 255, 0.5); padding: 1px; font-family: Calibri">
          <div style="display: flex; align-items: center; color: black; font-size: 20px;">
            <div style="display: flex; align-items: center; color: black; font-size: 15px; margin-left: 0px;margin-bottom: 5px;">
              more activity
            </div>
          </div>
          <div style="display: flex; align-items: center; color: black; font-size: 20px;">
            <div style="width: 20px; height: 30px; background: linear-gradient(0deg, white, #31f7f6); margin-left: 30px;"></div>
            &nbsp;
          </div>
          <div style="display: flex; align-items: center; color: black; font-size: 14px; margin-left: 5px; margin-top: 1px; margin-bottom: 1px;margin-left: 36px">
            &#x2195;&nbsp;2006
          </div>
          <div style="display: flex; align-items: center; color: #31f7f6;">
            <div style="width: 20px; height: 30px; background: linear-gradient(0deg,#000000,grey); margin-left: 30px;"></div
